(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{Bl7J:function(e,a,t){"use strict";var n=t("q1tI"),r=t.n(n),o=t("Wbzz");a.a=function(e){var a=e.location,t=e.children,n="/"===a.pathname;return n?r.a.createElement("h1",{className:"main-heading"},r.a.createElement(o.a,{to:"/"},"Oggi Posso")):r.a.createElement(o.a,{className:"header-link-home",to:"/"},"Oggi Posso"),r.a.createElement("div",{className:"global-wrapper","data-is-root-path":n},r.a.createElement("header",{className:"global-header"}),r.a.createElement("main",null,t),r.a.createElement("footer",null,r.a.createElement(o.a,{to:"/"},"Home")," - "," ",r.a.createElement(o.a,{to:"/terms"},"Termini di utilizzo")," - "," ",r.a.createElement(o.a,{to:"/privacy"},"Informativa sulla privacy")," - "," ",r.a.createElement("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSfiuthLNYyeeOd1n5J0dHclP-3mrRvv8K4lQGzkBlGem8-nzA/viewform"},"Contatti")," - "," ",r.a.createElement("a",{href:"https://github.com/mmolinari/oggiposso"},"GitHub")))}},RXBc:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return m}));var n=t("q1tI"),r=t.n(n),o={Abruzzo:"Abruzzo",Basilicata:"Basilicata",Calabria:"Calabria",Campania:"Campania",Emilia_Romagna:"Emilia-Romagna",Friuli_Venezia_Giulia:"Friuli-Venezia Giulia",Lazio:"Lazio",Liguria:"Liguria",Lombardia:"Lombardia",Marche:"Marche",Molise:"Molise",Piemonte:"Piemonte",Puglia:"Puglia",Sardegna:"Sardegna",Sicilia:"Sicilia",Toscana:"Toscana",Trentino_Alto_Adige:"Trentino-Alto Adige",Valle_d_Aosta:"Valle d'Aosta",Veneto:"Veneto"};var i=function(e){var a=e.regions,t=e.state,n=e.dispatch,o=[];o.push(r.a.createElement("option",{key:"0",value:"0"},"Scegli una regione"));for(var i=0,l=Object.entries(a);i<l.length;i++){var c=l[i],u=c[0],s=c[1];o.push(r.a.createElement("option",{key:u,value:u},s))}return r.a.createElement("select",{value:t.region,onChange:function(e){n({type:"region",region:e.target.value})}},o)};function l(e,a){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,a){if(!e)return;if("string"==typeof e)return c(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,a)}(e))||a&&e&&"number"==typeof e.length){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function c(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}var u=function(e){var a=e.dates,t=e.state,n=e.dispatch,o=[];o.push(r.a.createElement("option",{key:"0",value:"0"},"Scegli un giorno"));for(var i,c=l(a);!(i=c()).done;){var u=i.value;o.push(r.a.createElement("option",{key:u,value:u},u))}return r.a.createElement("select",{value:t.date,onChange:function(e){n({type:"date",date:e.target.value})}},o)},s=t("Bl7J");function m(e){var a=e.data,t=e.location,l={};a.allRegionsZonesCsv.edges.forEach((function(e,a){l[e.node.Date]=e.node}));var c={};a.allMarkdownRemark.nodes.forEach((function(e,a){c[e.frontmatter.id]=e.html}));var m={};a.allMarkdownRemark.nodes.forEach((function(e,a){m[e.frontmatter.id]=e.frontmatter.label}));var d=new Date,g={region:0,date:d.getDate()+"/"+(d.getMonth()+1)+"/"+d.getFullYear()};function f(e,a){return 0!==a&&0!==e?l[e][a]:""}function h(){var e=f(w.date,w.region);return b(w.date)&&""===e&&(e=f(w.date,"Lombardia")),e}function v(){var e=h();if(e)return m[e]}function p(){return 0!==w.date?w.date:""}function b(e){return 2===Object.values(l[e]).filter((function(e,a,t){return t.indexOf(e)===a})).length}var E,y=Object(n.useReducer)((function(e,a){switch(a.type){case"region":return{region:a.region,date:e.date};case"date":return{region:e.region,date:a.date};default:throw new Error}}),g),w=y[0],A=y[1];return r.a.createElement(s.a,{location:t},r.a.createElement("form",null,r.a.createElement(i,{regions:o,state:w,dispatch:A}),r.a.createElement(u,{dates:Object.keys(l),state:w,dispatch:A}),r.a.createElement("h2",{className:h()},function(){if(h())return b(w.date)?"Tutte le regioni, "+p()+": "+v():(0!==w.region?o[w.region]:"")+", "+p()+": "+v()}()),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:(E=h(),E?c[E]:b(w.date)?c[f(w.date,"Lombardia")]:"Per favore scegli una regione e una data.")}})))}}}]);
//# sourceMappingURL=component---src-pages-index-js-92b19ef8621f7f18842b.js.map